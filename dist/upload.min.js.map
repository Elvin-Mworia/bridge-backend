{"version":3,"sources":["upload.js"],"names":["multer","require","path","diskStorage","destination","req","file","cb","resolve","__dirname","storage","Date","now","extname","originalname","upload","limits","fileSize","mimtype","fileTypes","test","mimetype","fileFilter","single","module","exports"],"mappings":"aAAA,IAAMA,OAAOC,QAAQ,UACfC,KAAKD,QAAQ,QADbD,QAAOC,OAAQE,YAArB,CAGIC,YAAY,SAACC,EAAIC,EAAKC,GAFhBA,EAACN,KAAAA,KAAQO,QAAnBC,UAAA,cACMC,SAAO,SAACV,EAAAA,EAAOG,GACjBC,EAAAA,KAAYO,KAAAC,MAAAV,KAAAW,QAAAP,EAAAQ,kBAINC,OAAMJ,OAAKC,CAChBF,QAAAA,QANLM,OAAA,CAAAC,SAAA,WASMF,WAAOf,SAAAA,EAAOM,EAAAC,GAChBG,IAAQA,EADQ,eAETQ,EAAAC,EAAAC,KAAAd,EAAAe,UAAUR,EAAAM,EAAAC,KAAAlB,KAAAW,QAAAP,EAAAQ,eAFD,GAAAI,GAAAL,EAGhBS,OAAWf,EAAA,MAAA,GAEPA,EAAMW,6CAOXK,OAAO,SALHC,OAAAC,QAAUV","file":"upload.min.js","sourcesContent":["const multer=require('multer');\r\nconst path=require(\"path\");\r\nconst storage=multer.diskStorage({\r\n    destination:(req,file,cb)=>{\r\n        cb(null,path.resolve(__dirname,'./images' ));\r\n    },\r\n    filename:(req,file,cb)=>{\r\n        cb(null,Date.now()+path.extname(file.originalname));\r\n    }\r\n    \r\n})\r\nconst upload=multer({\r\n    storage:storage,\r\n    limits:{fileSize:\"1000000\"},\r\n    fileFilter:(req,file,cb)=>{\r\n        const fileTypes=/jpeg|jpg|png/\r\n        const mimtype=fileTypes.test(file.mimetype)\r\n        const extname=fileTypes.test(path.extname(file.originalname))\r\n       if(mimtype && extname ){\r\n           return cb(null,true)\r\n       }  \r\n       cb('give the proper file formats to upload') \r\n    }\r\n}).single(\"image\")\r\nmodule.exports=upload;"]}