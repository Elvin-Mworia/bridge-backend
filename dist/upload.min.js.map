{"version":3,"sources":["upload.js"],"names":["multer","require","path","diskStorage","destination","req","file","cb","Date","now","extname","originalname","upload","storage","limits","fileSize","mimtype","fileTypes","test","mimetype","fileFilter","single","module","exports"],"mappings":"aAAA,IAAMA,OAAOC,QAAQ,UACfC,KAAKD,QAAQ,QADbD,QAAOC,OAAQE,YAArB,CAGIC,YAAY,SAACC,EAAIC,EAAKC,GAElBA,EAAG,KAAK,WAFZH,SAAW,SAAAC,EAACC,EAAAC,GACRA,EAAA,KAAAC,KAAAC,MAAAP,KAAAQ,QAAAJ,EAAAK,kBAIEC,OAAMJ,OAAKC,CAChBI,QAAAA,QAPLC,OAAA,CAAAC,SAAA,WAUMH,WAAOZ,SAAAA,EAAOM,EAAAC,GAChBM,IAAQA,EADQ,eAETG,EAAAC,EAAAC,KAAAZ,EAAAa,UAAUT,EAAAO,EAAAC,KAAAhB,KAAAQ,QAAAJ,EAAAK,eAFD,GAAAK,GAAAN,EAGhBU,OAAWb,EAAA,MAAA,GAEPA,EAAMS,6CAOXK,OAAO,QALHC,OAAAC,QAAUX","file":"upload.min.js","sourcesContent":["const multer=require('multer');\r\nconst path=require(\"path\");\r\nconst storage=multer.diskStorage({\r\n    destination:(req,file,cb)=>{\r\n        // cb(null,path.resolve(__dirname,'./images' ));\r\n        cb(null,'images' );\r\n    },\r\n    filename:(req,file,cb)=>{\r\n        cb(null,Date.now()+path.extname(file.originalname));\r\n    }\r\n    \r\n})\r\nconst upload=multer({\r\n    storage:storage,\r\n    limits:{fileSize:\"1000000\"},\r\n    fileFilter:(req,file,cb)=>{\r\n        const fileTypes=/jpeg|jpg|png/\r\n        const mimtype=fileTypes.test(file.mimetype)\r\n        const extname=fileTypes.test(path.extname(file.originalname))\r\n       if(mimtype && extname ){\r\n           return cb(null,true)\r\n       }  \r\n       cb('give the proper file formats to upload') \r\n    }\r\n}).single(\"file\");\r\nmodule.exports=upload;"]}