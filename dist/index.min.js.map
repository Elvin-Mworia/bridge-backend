{"version":3,"sources":["index.js"],"names":["express","require","config","cors","Auth","Bio","Idea","User","Stripe","logger","req","res","next","corOption","origin","app","use","json","urlencoded","extended","Pitch","db","sequelize","sync","logging","console","log","force","then","listen","port","concat","err"],"mappings":"aAAA,IAAMA,QAAQC,QAAQ,WACtBA,QAAQ,UAAUC,SADlB,IAAMF,IAAAA,UAGAG,KAAKF,QAAQ,QAFnBA,GAAQA,QAAR,YAMMG,KAAKH,QAAQ,cAJbE,MAAKF,QAAQ,eAMbI,IAAIJ,QAAQ,aALVK,KAACL,QAAQ,eAOXM,KAAKN,QAAQ,cACbO,OAAOP,QAAQ,gBAMfQ,OAAO,SAACC,EAAIC,EAAIC,GARhBN,QAAKL,IAAAA,oBAUPW,KAICC,UAAU,CACXC,OAAO,KAJTC,IAEDC,IAAAb,KAAAU,YAQDE,IAAIC,IAAIhB,QAAQiB,QAPfF,IAAIF,IAAAA,QAAUK,WAAA,CAAAC,UAAA,KAAAJ,IAIfC,IAAAP,QACAM,IAAIC,IAAIb,WAAKU,QAAb,OAAA,aAG4BM,IAAAA,IAAAA,QAASf,MAAVW,IAA3BC,IAAA,SAAAI,OAEAL,IAAIC,IAAIP,OAARJ,KAQAU,IAAIC,IAAI,QAAQV,MANhBS,IAAIC,IAAI,QAAAT,MAQRQ,IAAIC,IAAI,UAAUR,QAFlBO,IAAIC,KAAI,KAMRK,GAAAC,UAAWC,KACX,CAAAC,QAAAC,QAAAC,IAAAC,OAAA,IAAAC,KAAA,WAEGN,QAAHI,IAAaH,0CAA0BI,IAAKE,OAACC,KAAA,WAAaL,QAAAC,IAAA,mBAAAK,OAAID,WAH9D,MAGA,SAAAE,GAUS,OAAAP,QAAAO,IAAA,wBAAAD,OAAGC","file":"index.min.js","sourcesContent":["const express=require('express');\r\nrequire(\"dotenv\").config();\r\nconst app=express();\r\nconst cors=require('cors');\r\nconst db=require(\"./models\");\r\n\r\n//controllers\r\nconst Auth=require(\"./api/auth\");\r\nconst Pitch=require(\"./api/pitch\");\r\nconst Bio=require(\"./api/bio\");\r\nconst Idea=require(\"./api/ideas\");\r\nconst User=require(\"./api/user\");\r\nconst Stripe=require(\"./api/stripe\");\r\n\r\n\r\n\r\n\r\n//middleware for logging out if an incoming request\r\nconst logger=(req,res,next)=>{\r\n    console.log(\"incoming request\");\r\n    next();\r\n }\r\n\r\n //allowed origin which the server can accept request from\r\n var corOption={\r\n    origin:\"*\"\r\n}\r\n\r\n//setting up cors\r\napp.use(cors(corOption));\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended:true}));\r\n  \r\napp.use(logger);\r\n//static files ie profile pictures\r\napp.use(\"./images\",express.static(\"./images\"));\r\n\r\n//routes\r\napp.use(\"/auth\",Auth);\r\napp.use(\"/pitch\",Pitch);\r\napp.use(\"/bio\",Bio);\r\napp.use(\"/idea\",Idea);\r\napp.use(\"/user\",User);\r\napp.use(\"/stripe\",Stripe);\r\n\r\n\r\n\r\nconst port=3001;\r\n//attempting to connect to the database first before starting the server\r\n\r\ndb.sequelize.sync({logging:console.log,force:false}).then(()=>{\r\n    \r\n    console.log(\"Connection to the database established\");\r\n    \r\n    app.listen(port,()=>{\r\n        console.log(`running on port ${port}`);\r\n});\r\n\r\n\r\n\r\n}).catch(err=>(console.log(`Something went wrong ${err}`)));"]}