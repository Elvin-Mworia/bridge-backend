{"version":3,"sources":["upload.js"],"names":["multer","require","path","storage","diskStorage","destination","req","file","cb","resolve","__dirname","filename","Date","now","extname","originalname","upload","limits","fileSize","fileFilter","fileTypes","mimtype","test","mimetype","single","module","exports"],"mappings":";;AAAA,IAAMA,MAAM,GAACC,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMC,IAAI,GAACD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAME,OAAO,GAACH,MAAM,CAACI,WAAP,CAAmB;AAC7BC,EAAAA,WAAW,EAAC,qBAACC,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACvBA,IAAAA,EAAE,CAAC,IAAD,EAAMN,IAAI,CAACO,OAAL,CAAaC,SAAb,EAAuB,UAAvB,CAAN,CAAF;AACH,GAH4B;AAI7BC,EAAAA,QAAQ,EAAC,kBAACL,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACpBA,IAAAA,EAAE,CAAC,IAAD,EAAMI,IAAI,CAACC,GAAL,KAAWX,IAAI,CAACY,OAAL,CAAaP,IAAI,CAACQ,YAAlB,CAAjB,CAAF;AACH;AAN4B,CAAnB,CAAd;AASA,IAAMC,MAAM,GAAChB,MAAM,CAAC;AAChBG,EAAAA,OAAO,EAACA,OADQ;AAEhBc,EAAAA,MAAM,EAAC;AAACC,IAAAA,QAAQ,EAAC;AAAV,GAFS;AAGhBC,EAAAA,UAAU,EAAC,oBAACb,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACtB,QAAMY,SAAS,GAAC,cAAhB;AACA,QAAMC,OAAO,GAACD,SAAS,CAACE,IAAV,CAAef,IAAI,CAACgB,QAApB,CAAd;AACA,QAAMT,OAAO,GAACM,SAAS,CAACE,IAAV,CAAepB,IAAI,CAACY,OAAL,CAAaP,IAAI,CAACQ,YAAlB,CAAf,CAAd;;AACD,QAAGM,OAAO,IAAIP,OAAd,EAAuB;AACnB,aAAON,EAAE,CAAC,IAAD,EAAM,IAAN,CAAT;AACH;;AACDA,IAAAA,EAAE,CAAC,wCAAD,CAAF;AACF;AAXe,CAAD,CAAN,CAYVgB,MAZU,CAYH,OAZG,CAAb;AAaAC,MAAM,CAACC,OAAP,GAAeV,MAAf","sourcesContent":["const multer=require('multer');\r\nconst path=require(\"path\");\r\nconst storage=multer.diskStorage({\r\n    destination:(req,file,cb)=>{\r\n        cb(null,path.resolve(__dirname,'./images' ));\r\n    },\r\n    filename:(req,file,cb)=>{\r\n        cb(null,Date.now()+path.extname(file.originalname));\r\n    }\r\n    \r\n})\r\nconst upload=multer({\r\n    storage:storage,\r\n    limits:{fileSize:\"1000000\"},\r\n    fileFilter:(req,file,cb)=>{\r\n        const fileTypes=/jpeg|jpg|png/\r\n        const mimtype=fileTypes.test(file.mimetype)\r\n        const extname=fileTypes.test(path.extname(file.originalname))\r\n       if(mimtype && extname ){\r\n           return cb(null,true)\r\n       }  \r\n       cb('give the proper file formats to upload') \r\n    }\r\n}).single(\"image\")\r\nmodule.exports=upload;"],"file":"upload.dev.js"}