{"version":3,"sources":["upload.js"],"names":["multer","require","path","storage","diskStorage","destination","req","file","cb","filename","Date","now","extname","originalname","upload","limits","fileSize","fileFilter","fileTypes","mimtype","test","mimetype","single","module","exports"],"mappings":";;AAAA,IAAMA,MAAM,GAACC,OAAO,CAAC,QAAD,CAApB;;AACA,IAAMC,IAAI,GAACD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAME,OAAO,GAACH,MAAM,CAACI,WAAP,CAAmB;AAC7BC,EAAAA,WAAW,EAAC,qBAACC,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACvB;AACAA,IAAAA,EAAE,CAAC,IAAD,EAAM,QAAN,CAAF;AACH,GAJ4B;AAK7BC,EAAAA,QAAQ,EAAC,kBAACH,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACpBA,IAAAA,EAAE,CAAC,IAAD,EAAME,IAAI,CAACC,GAAL,KAAWT,IAAI,CAACU,OAAL,CAAaL,IAAI,CAACM,YAAlB,CAAjB,CAAF;AACH;AAP4B,CAAnB,CAAd;AAUA,IAAMC,MAAM,GAACd,MAAM,CAAC;AAChBG,EAAAA,OAAO,EAACA,OADQ;AAEhBY,EAAAA,MAAM,EAAC;AAACC,IAAAA,QAAQ,EAAC;AAAV,GAFS;AAGhBC,EAAAA,UAAU,EAAC,oBAACX,GAAD,EAAKC,IAAL,EAAUC,EAAV,EAAe;AACtB,QAAMU,SAAS,GAAC,cAAhB;AACA,QAAMC,OAAO,GAACD,SAAS,CAACE,IAAV,CAAeb,IAAI,CAACc,QAApB,CAAd;AACA,QAAMT,OAAO,GAACM,SAAS,CAACE,IAAV,CAAelB,IAAI,CAACU,OAAL,CAAaL,IAAI,CAACM,YAAlB,CAAf,CAAd;;AACD,QAAGM,OAAO,IAAIP,OAAd,EAAuB;AACnB,aAAOJ,EAAE,CAAC,IAAD,EAAM,IAAN,CAAT;AACH;;AACDA,IAAAA,EAAE,CAAC,wCAAD,CAAF;AACF;AAXe,CAAD,CAAN,CAYVc,MAZU,CAYH,MAZG,CAAb;AAaAC,MAAM,CAACC,OAAP,GAAeV,MAAf","sourcesContent":["const multer=require('multer');\r\nconst path=require(\"path\");\r\nconst storage=multer.diskStorage({\r\n    destination:(req,file,cb)=>{\r\n        // cb(null,path.resolve(__dirname,'./images' ));\r\n        cb(null,'images' );\r\n    },\r\n    filename:(req,file,cb)=>{\r\n        cb(null,Date.now()+path.extname(file.originalname));\r\n    }\r\n    \r\n})\r\nconst upload=multer({\r\n    storage:storage,\r\n    limits:{fileSize:\"1000000\"},\r\n    fileFilter:(req,file,cb)=>{\r\n        const fileTypes=/jpeg|jpg|png/\r\n        const mimtype=fileTypes.test(file.mimetype)\r\n        const extname=fileTypes.test(path.extname(file.originalname))\r\n       if(mimtype && extname ){\r\n           return cb(null,true)\r\n       }  \r\n       cb('give the proper file formats to upload') \r\n    }\r\n}).single(\"file\");\r\nmodule.exports=upload;"],"file":"upload.dev.js"}